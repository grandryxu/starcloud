<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xywg.attendance.modular.system.dao.DeviceMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.xywg.attendance.modular.system.model.Device">
        <id column="id" property="id"/>
        <result column="organization_code" property="organizationCode"/>
        <result column="project_code" property="projectCode"/>
        <result column="type_id" property="typeId"/>
        <result column="sn" property="sn"/>
        <result column="name" property="name"/>
        <result column="ip" property="ip"/>
        <result column="mac" property="mac"/>
        <result column="version" property="version"/>
        <result column="code" property="code"/>
        <result column="security_key" property="securityKey"/>
        <result column="server_ip" property="serverIp"/>
        <result column="server_port" property="serverPort"/>
        <result column="talk" property="talk"/>
        <result column="state" property="state"/>
        <result column="description" property="description"/>
        <result column="update_type" property="updateType"/>
        <result column="create_date" property="createDate"/>
        <result column="create_user" property="createUser"/>
        <result column="update_date" property="updateDate"/>
        <result column="update_user" property="updateUser"/>
        <result column="status" property="status"/>
        <result column="type" property="type"/>
        <result column="remark" property="remark"/>
        <result column="alg_version" property="algVersion"/>
        <result column="is_del" property="isDel"/>
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id,
        organization_code AS organizationCode,
        project_code AS projectCode,
        type_id AS typeId,
        sn,
        name,
        ip,
        mac,
        version,
        code,
        security_key AS securityKey,
        server_ip AS serverIp,
        server_port AS serverPort,
        talk,
        state,
        description,
        type,
        update_type AS updateType,
        create_date AS createDate,
        create_user AS createUser,
        update_date AS updateDate,
        update_user AS updateUser
    </sql>




    <!--根据序列号获取 -->
    <select id="getByDeviceSn" parameterType="java.util.Map" resultType="com.xywg.attendance.modular.system.model.Device">
        SELECT
        <include refid="Base_Column_List"/>
        FROM buss_device
        where sn=#{sn} and state = 1 and is_del=0
    </select>



</mapper>
